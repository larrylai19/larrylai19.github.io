<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Larry's notes</title><meta name="keywords" content="C++"><meta name="author" content="Larry Lai"><meta name="copyright" content="Larry Lai"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="Larry&#39;s notes">
<meta property="og:url" content="http://www.larrysprognotes.com/index.html">
<meta property="og:site_name" content="Larry&#39;s notes">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="http://www.larrysprognotes.com/avatar.jpg">
<meta property="article:author" content="Larry Lai">
<meta property="article:tag" content="C++">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.larrysprognotes.com/avatar.jpg"><link rel="shortcut icon" href="/img/L-favicon-32x32.ico"><link rel="canonical" href="http://www.larrysprognotes.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-38280830-2"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-38280830-2');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查詢的內容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '複製成功',
    error: '複製錯誤',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"你已切換為繁體","cht_to_chs":"你已切換為簡體","day_to_night":"你已切換為深色模式","night_to_day":"你已切換為淺色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-07-09 20:31:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">322</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">標籤</div><div class="length-num">85</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分類</div><div class="length-num">15</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 關於</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Larry's notes</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜尋</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 關於</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/RecycleGame/" title="Unity 環保垃圾回收遊戲">Unity 環保垃圾回收遊戲</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">發表於</span><time datetime="2023-07-09T12:04:27.000Z" title="發表於 2023-07-09 20:04:27">2023-07-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Unity/">Unity</a></span></div><div class="content">此為元智大學 1112 互動視訊遊戲設計課程的期末專案，與組員 Daniel 透過 Unity 一同開發而成。
Unity Hub 3.4.2Editor Version: 2021.3.24f1
開啟方式
原始碼: clone 本專案或下載並解壓縮後使用 Unity Hub 開啟
僅遊玩: 下載並解壓縮後執行 “Unity-Recycle-Game.exe”

遊戲介紹垃圾分類對於環境保護至關重要。通過正確分類和回收，我們可以減少資源浪費、降低污染、延長資源的使用壽命。垃圾分類還能促進循環經濟，創造就業機會，並培養人們的環保意識和責任感。
然而垃圾分類並非是一件簡單的事情，發展至今垃圾擁有非常多的種類，常發生某個垃圾不知道該分到什麼類的情況，因此我們開發了這款遊戲 咦!這不是垃圾是什麼，希望讓玩家透過這款遊戲了解一些不常見的垃圾應該分到什麼類。
在遊戲中玩家扮演一位探險使者，需要到草地、冰原、沙漠等地方收集垃圾並分類，遊玩過程中能夠學習到不常見的垃圾該分什麼類，探索垃圾的同時還要躲避怪物的追擊，真是十分刺激，搭配非常好聽的背景音樂和音效，彷彿有身歷其境的臨場感，非常喝勝。
遊戲玩法玩 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/Shark/" title="好物推推">好物推推</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">發表於</span><time datetime="2023-07-08T12:04:27.000Z" title="發表於 2023-07-08 20:04:27">2023-07-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/daily/">daily</a></span></div><div class="content"> </div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/ASecret/" title="一個驚天的秘密">一個驚天的秘密</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">發表於</span><time datetime="2023-06-24T12:04:27.000Z" title="發表於 2023-06-24 20:04:27">2023-06-24</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/daily/">daily</a></span></div><div class="content"> </div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/Hexo-Butterfly-page_uv/" title="Hexo Butterfly 主題新增文章頁面訪客數">Hexo Butterfly 主題新增文章頁面訪客數</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">發表於</span><time datetime="2023-03-16T15:04:27.000Z" title="發表於 2023-03-16 23:04:27">2023-03-16</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Hexo/">Hexo</a></span></div><div class="content">最近發現有些文章被一直刷閱讀量，使閱讀量異常的高。決定在文章頁面上新增文章訪客數的數據，文章訪客數記數原理與網站訪客數記數原理相同，加入用戶 IP 及瀏覽器 User-Agent 判斷避免重複，相對來說較有參考性。
方法尋找大部分 Hexo 主題都是採用 Busuanzi 來進行記數，但是預設只提供網站瀏覽量、網站訪客數、文章瀏覽量三個數據，搜尋了一下也都沒有文章教學如何新增，於是自己嘗試找方法新增。
Github 上有許多第三方 Busuanzi 的專案，想避免架設伺服器的麻煩，直接找了一個已經部屬好供人直接使用的專案進行主題修改
Hexo Butterfly 修改目前我使用的是 hexo-cli: 4.3.0 + Butterfly 3.6.2，主題預設只提供上述三個選項，因此想要文章訪客數的話需要自行新增我使用的 hexo 及 Butterfly 的版本都較舊，但想法都差不多，依照自己的版本稍微修正一下應該就可以套用上去

新增 site_uv 設定: Butterfly 下的 _config.yml 文件 方便後續開啟關閉，先於文件中新增 site_uv(文章訪客數) 的設定， ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/Lightsplit/" title="Lightsplit 最少轉帳次數研究實作">Lightsplit 最少轉帳次數研究實作</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">發表於</span><time datetime="2023-02-08T18:04:27.000Z" title="發表於 2023-02-09 02:04:27">2023-02-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Python/">Python</a></span></div><div class="content">最近和朋友使用 Lightsplit 分帳覺得很方便，其中一個功能是使用者只須在裡面以筆為單位新增所有帳務，程式就會自動計算出每個人的結餘以及最少的轉帳次數及轉帳方式。一開始覺得這個功能並沒有很難，但仔細想想後發現其實不容易，閒著沒事嘗試自己研究一下並記錄此篇文章。
實作時偷懶只想了一些簡單測資，不保證功能完全正確


思路
無論有多少筆帳，每個人最後的結餘只會有一個數字
 綜觀來看，每個人都會有一個付出的金額(先付的金額總和)，以及得到的金額價值(讓別人先幫自己付)，相減即是結餘，為正表應該收到別人的轉帳，為負則應該轉帳給別人

使用 Minimum Cost Maximum Flow (MCMF) 找出最小轉帳次數及方式
 想到之前上課學過 MCMF 演算法，利用結餘建立 edge，每個 edge 之 cost 表轉帳次數，感覺可以解決這個問題，便建立 MCMF 資料模型嘗試得出正確結果


資料轉換以使用 Lightsplit 時做的設定可得到的資料模擬測資
123441 1000 1 2 3 42 500 1 23 70 2 3


第一個數字 4 表群組中共有 4 人 (編號 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/Data-Mining-with-Kaggle-YouTube-Videos-and-Channels-Metadata/" title="Data Mining with Kaggle YouTube Videos and Channels Metadata">Data Mining with Kaggle YouTube Videos and Channels Metadata</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">發表於</span><time datetime="2023-01-10T03:04:27.000Z" title="發表於 2023-01-10 11:04:27">2023-01-10</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Data-Mining/">Data Mining</a></span></div><div class="content">Github LinkData-Mining-with-Kaggle-YouTube-Videos-and-Channels-Metadata
DatasetYouTube Videos and Channels Metadata
Usage1. Create Enviroments
Windows
1234python -m venv venvvenv\Scripts\activatepip install -r requirements.txtjupyter lab



2. Download Dataset
Download dataset from YouTube Videos and Channels Metadata
Put YouTubeDataset_withChannelElapsed.csv under source folder

3. Open data-mining.ipynb On JupyterProcessing1. Data Preprocessing
Unique: Set videoID to index and Drop duplicate d ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/LeetCode-60/" title="LeetCode - 60 解題紀錄">LeetCode - 60 解題紀錄</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">發表於</span><time datetime="2022-11-22T08:04:27.000Z" title="發表於 2022-11-22 16:04:27">2022-11-22</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/LeetCode/">LeetCode</a></span></div><div class="content">題目： LeetCode - 60. Permutation Sequence...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/LeetCode-52/" title="LeetCode - 52 解題紀錄">LeetCode - 52 解題紀錄</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">發表於</span><time datetime="2022-11-22T07:04:27.000Z" title="發表於 2022-11-22 15:04:27">2022-11-22</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/LeetCode/">LeetCode</a></span></div><div class="content">題目： LeetCode - 52. N-Queens II...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/LeetCode-51/" title="LeetCode - 51 解題紀錄">LeetCode - 51 解題紀錄</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">發表於</span><time datetime="2022-11-22T06:04:27.000Z" title="發表於 2022-11-22 14:04:27">2022-11-22</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/LeetCode/">LeetCode</a></span></div><div class="content">題目： LeetCode - 51. N-Queens...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/YOLOv7_4/" title="YOLOv7 on Windows (四) 引用模型與自瞄實現代碼">YOLOv7 on Windows (四) 引用模型與自瞄實現代碼</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">發表於</span><time datetime="2022-10-30T07:04:27.000Z" title="發表於 2022-10-30 15:04:27">2022-10-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/YOLOv7/">YOLOv7</a></span></div><div class="content">要將訓練好的模型實現自瞄我分為以下步驟

引入模型
擷取螢幕截圖
預測物體位置並取得中心座標
取得鼠標移動 offset
微調 offset
移動鼠標並射擊

以下將以 Aimlab Gridshot 為例實作
前置準備想要引入模型須先準備一些依賴

hubconf.py  引入模型的依賴文件，可於這裡下載，似乎也可直接在線調用

models、utils  直接複製 YOLOv7 目錄中的 models、utils 兩個資料夾即可

訓練好的模型


所有檔案放入同一目錄

best.pt 為訓練好的模型，以下將解釋實現步驟
import 與設定參數根據自己的配置設定參數，延遲根據電腦配置設定，可實際執行不斷調整至合適的延遲
123456789101112131415161718192021import sysimport timeimport torchimport win32apiimport win32confrom PyQt5.QtWidgets import QApplication# data settingGAME_WIDTH = 1920GAME_HEIGHT = 1 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/33/">33</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Larry Lai</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">322</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">標籤</div><div class="length-num">85</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分類</div><div class="length-num">15</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/larrylai19"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-bolt"></i><span>最新評論</span></div><div class="aside-list"><span>正在載入中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分類</span>
            <a class="card-more-btn" href="/categories/" title="檢視更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/1091DataStructures-YzuCse/"><span class="card-category-list-name">1091DataStructures-YzuCse</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/1091LinearAlgebra-YzuCse/"><span class="card-category-list-name">1091LinearAlgebra-YzuCse</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/1092IntroductionToAlgorithms-YzuCse/"><span class="card-category-list-name">1092IntroductionToAlgorithms-YzuCse</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Bitwise/"><span class="card-category-list-name">Bitwise</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C/"><span class="card-category-list-name">C++</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Data-Mining/"><span class="card-category-list-name">Data Mining</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Design-Pattern/"><span class="card-category-list-name">Design Pattern</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Hexo/"><span class="card-category-list-name">Hexo</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>標籤</span></div><div class="card-tag-cloud"><a href="/tags/0-1-Knapsack/" style="font-size: 1.17em; color: #999ca0">0-1 Knapsack</a> <a href="/tags/AI/" style="font-size: 1.21em; color: #999da3">AI</a> <a href="/tags/Anaconda/" style="font-size: 1.21em; color: #999da3">Anaconda</a> <a href="/tags/Articulation-Points/" style="font-size: 1.1em; color: #999">Articulation Points</a> <a href="/tags/BFS/" style="font-size: 1.17em; color: #999ca0">BFS</a> <a href="/tags/Back-Tracking/" style="font-size: 1.1em; color: #999">Back Tracking</a> <a href="/tags/Bellman-Ford/" style="font-size: 1.17em; color: #999ca0">Bellman Ford</a> <a href="/tags/Bitwise/" style="font-size: 1.25em; color: #999fa7">Bitwise</a> <a href="/tags/Butterfly/" style="font-size: 1.1em; color: #999">Butterfly</a> <a href="/tags/C/" style="font-size: 1.5em; color: #99a9bf">C++</a> <a href="/tags/CPE-2020-06-09/" style="font-size: 1.14em; color: #999a9c">CPE - 2020/06/09</a> <a href="/tags/CPE-2020-10-20/" style="font-size: 1.28em; color: #99a0aa">CPE - 2020/10/20</a> <a href="/tags/CPE-2020-12-22/" style="font-size: 1.28em; color: #99a0aa">CPE - 2020/12/22</a> <a href="/tags/Coin-Change/" style="font-size: 1.17em; color: #999ca0">Coin Change</a> <a href="/tags/Computational-Geometry/" style="font-size: 1.17em; color: #999ca0">Computational Geometry</a> <a href="/tags/Convex-Hull/" style="font-size: 1.17em; color: #999ca0">Convex Hull</a> <a href="/tags/DFS/" style="font-size: 1.1em; color: #999">DFS</a> <a href="/tags/Data-Mining/" style="font-size: 1.1em; color: #999">Data Mining</a> <a href="/tags/Deep-Learning/" style="font-size: 1.21em; color: #999da3">Deep Learning</a> <a href="/tags/Design-Pattern/" style="font-size: 1.14em; color: #999a9c">Design Pattern</a> <a href="/tags/Dijkstra/" style="font-size: 1.17em; color: #999ca0">Dijkstra</a> <a href="/tags/Dinic/" style="font-size: 1.28em; color: #99a0aa">Dinic</a> <a href="/tags/Divide-and-Conquer/" style="font-size: 1.14em; color: #999a9c">Divide and Conquer</a> <a href="/tags/Dynamic-Programming/" style="font-size: 1.39em; color: #99a5b5">Dynamic Programming</a> <a href="/tags/Edmonds-Karp/" style="font-size: 1.25em; color: #999fa7">Edmonds-Karp</a> <a href="/tags/FPS/" style="font-size: 1.14em; color: #999a9c">FPS</a> <a href="/tags/Floyd-Cycle-Detection-Algorithm/" style="font-size: 1.14em; color: #999a9c">Floyd Cycle Detection Algorithm</a> <a href="/tags/Floyd-Warshall/" style="font-size: 1.21em; color: #999da3">Floyd-Warshall</a> <a href="/tags/Graham-Scan/" style="font-size: 1.17em; color: #999ca0">Graham Scan</a> <a href="/tags/Graph/" style="font-size: 1.35em; color: #99a3b1">Graph</a> <a href="/tags/Hexo/" style="font-size: 1.1em; color: #999">Hexo</a> <a href="/tags/Index-Sort/" style="font-size: 1.1em; color: #999">Index Sort</a> <a href="/tags/Kadane/" style="font-size: 1.17em; color: #999ca0">Kadane</a> <a href="/tags/Kaggle/" style="font-size: 1.1em; color: #999">Kaggle</a> <a href="/tags/Kruskcal/" style="font-size: 1.17em; color: #999ca0">Kruskcal</a> <a href="/tags/LDS/" style="font-size: 1.17em; color: #999ca0">LDS</a> <a href="/tags/LIS/" style="font-size: 1.21em; color: #999da3">LIS</a> <a href="/tags/LeetCode/" style="font-size: 1.46em; color: #99a8bc">LeetCode</a> <a href="/tags/LeetCode-Easy/" style="font-size: 1.43em; color: #99a6b8">LeetCode - Easy</a> <a href="/tags/LeetCode-Hard/" style="font-size: 1.32em; color: #99a2ae">LeetCode - Hard</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>文章</span><a class="card-more-btn" href="/archives/" title="檢視更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><span class="card-archive-list-count">5</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>網站資訊</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章數目 :</div><div class="item-count">322</div></div><div class="webinfo-item"><div class="item-name">已運行時間 :</div><div class="item-count" id="runtimeshow" data-publishDate="2020-07-01T05:51:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站總字數 :</div><div class="item-count">116.9k</div></div><div class="webinfo-item"><div class="item-name">最後更新時間 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-07-09T12:31:21.600Z"></div></div></div></div><div class="card-widget card-map">
<div class="card-content">
<div class="item-headline">
<i class="fa fa-map" aria-hidden="true"></i>
<span>User Map</span>
</div>
<script type="text/javascript" id="clustrmaps" src="//clustrmaps.com/map_v2.js?d=wrS8ghPGbwqS32IteP6XaDb-7GVEsqHugb_iN68lpxQ&cl=ffffff&w=a"></script>
</div>
</div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Larry Lai</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="淺色和深色模式轉換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到頂部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜尋</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜尋文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[圖片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[連結]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代碼]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const findTrueUrl = (array) => {
    let url = ''
    Promise.all(array.map(item =>
      fetch(item.url).then(resp => resp.json()).then(data => {
        if (data.user.login === 'utterances-bot') {
          url = data.body.match(/https?\:\/\/[^\" ]+/ig).slice(-1)
          return url[0]
        } else {
          url = data.body.match(/https?\:\/\/[^\" ]+/i)
          return url[0]
        }
      })
    )).then(res => {
        array = array.map((i,index)=> {
          return {
            ...i,
            url: res[index]
          }
        })

        saveToLocal.set('github-newest-comments', JSON.stringify(array), 10/(60*24))
        generateHtml(array)
    });
  }

  const getComment = () => {
    fetch('https://api.github.com/repos/larrylai19/BlogComments/issues/comments?sort=updated&direction=desc&per_page=6&page=1',{
      "headers": {
        Accept: 'application/vnd.github.v3.html+json'
      }
    })
      .then(response => response.json())
      .then(data => {
        const githubArray = data.map(item => {
          return {
            'avatar': item.user.avatar_url,
            'content': changeContent(item.body_html),
            'nick': item.user.login,
            'url': item.issue_url,
            'date': item.updated_at,
            'githubUrl': item.html_url
          }
        })
        findTrueUrl(githubArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "無法獲取評論，請確認相關配置是否正確"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          //- result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
          result += `<a href='${array[i].url}#post-comment' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        //- 直接到文章評論處
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}#post-comment'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
        
        //- result += `<div class='content'>
        //- <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        //- <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        //- </div></div>`
      }
    } else {
      result += '沒有評論'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('github-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script></div></body></html>